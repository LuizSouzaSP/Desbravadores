<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aventura | Pagina inicial</title>
    <link rel="stylesheet" href="styles/dashboard.css">
</head>
<body>
    <div class="header">
        <div class="conteiner">
            <ul class="nav-bar">
                <li>
                    <div class="box">
                        <a href="#">inicio</a>
                    </div>
                </li>
                <li>
                    <div class="box1">
                        <a href="quiz.html">Quiz</a>
                    </div>
                </li>
                <li>
                    <div class="box2">
                        <a href="conta.html">Conta</a>
                    </div>
                </li>
                <li>
                    <div class="box4">
                        <a href="dashgeral.html">Estat√≠sticas Gerais</a>
                    </div>
                </li>
                <li>
                    <div class="box3">
                        <a href="index.html">Sair</a>
                    </div>
                </li>
            </ul>
            <div id="cards">
                <div class="Amigo" id="idAmigo">
                    <img src="assets/imgs/ClasseAmigo.jpeg" alt="">
                    <h2>Classe de Amigo</h2>
                </div>
                <div class="Companheiro" id="idCompanheiro">
                    <img src="assets/imgs/ClasseCompanheiro.jpeg" alt="">
                    <h2>Classe de Companheiro</h2>
                </div>
                <div class="Pesquisador" id="idPesquisador">
                    <img src="assets/imgs/ClassePesquisador.jpeg" alt="">
                    <h2>Classe de Pesquisador</h2>
                </div>
                <div class="Pioneiro" id="idPioneiro">
                    <img src="assets/imgs/ClassePioneiro.jpeg" alt="">
                    <h2>Classe de Pioneiro</h2>
                </div>
                <div class="Excursionista" id="idExcursionista">
                    <img src="assets/imgs/ClasseExcursionista.jpeg" alt="">
                    <h2>Classe de Excursionista</h2>
                </div>
                <div class="Guia" id="idGuia">
                    <img src="assets/imgs/ClasseGuia.jpeg" alt="">
                    <h2>Classe de Guia</h2>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
<script src="js/sessao.js"></script>
<script>


obterIdade(sessionStorage.ID_USUARIO);

function obterIdade(idusuario){
    fetch(`/idade/idadeResultado/${idusuario}`, {
    method: 'GET',
    headers: {
        "Content-Type": "application/json"
    },   
}).then(function (response) {
    if (response.ok) {
        response.json().then(function (resposta) {
            console.log(`Dados recebidos: ${JSON.stringify(resposta)}`);
            console.log(resposta[0].idade)
            cards(resposta)
            pioneiro(resposta)
        });
    } else {
        console.error('Nenhum dado encontrado ou erro na API');
    }
})
    .catch(function (error) {
        console.error(`Erro ao obter idade: ${error.message}`);
    });

}
function mandarClasse(){
        fetch(`/classe/classeResultado/${idusuario}`, {
    method: 'POST',
    headers: {
        "Content-Type": "application/json"
    },   
}).then(function (response) {
    if (response.ok) {
        response.json().then(function (resposta) {
            console.log(`Dados recebidos: ${JSON.stringify(resposta)}`);
            console.log(resposta[0].idade)
            cards(resposta)
            pioneiro(resposta)
        });
    } else {
        console.error('Nenhum dado encontrado ou erro na API');
    }
})
    .catch(function (error) {
        console.error(`Erro ao obter idade: ${error.message}`);
    });

}
let idade = 0

function cards(resultado){
    idade = resultado[0].idade;
  
    if (idade == 10){
        idCompanheiro.style.opacity = "0.3";
        idPesquisador.style.opacity = "0.3";
        idPioneiro.style.opacity = "0.3";
        idExcursionista.style.opacity = "0.3";
        idGuia.style.opacity = "0.3";
        idAmigo.style.cursor = "pointer";

        idAmigo.onclick = () => {
            location.href = './classes/amigo.html'
        }
    } else if (idade == 11){
        idAmigo.style.opacity = "0.3";
        idPesquisador.style.opacity = "0.3";
        idPioneiro.style.opacity = "0.3";
        idExcursionista.style.opacity = "0.3";
        idGuia.style.opacity = "0.3";
        idCompanheiro.style.cursor = "pointer";

        idCompanheiro.onclick = () => {
            location.href = './classes/companheiro.html'
        }

    } else if (idade == 12){
        idAmigo.style.opacity = "0.3";
        idCompanheiro.style.opacity = "0.3";
        idPioneiro.style.opacity = "0.3";
        idExcursionista.style.opacity = "0.3";
        idGuia.style.opacity = "0.3";
        idPesquisador.style.cursor = "pointer";

        idPesquisador.onclick = () => {
            location.href = './classes/pesquisador.html'
        }
    } else if (idade == 13){
        idAmigo.style.opacity = "0.3";
        idPesquisador.style.opacity = "0.3";
        idCompanheiro.style.opacity = "0.3";
        idExcursionista.style.opacity = "0.3";
        idGuia.style.opacity = "0.3";
        idPioneiro.style.cursor = "pointer";

        idPioneiro.onclick = () => {
            location.href = './classes/pioneiro.html'
        }
    } else if (idade == 14){
        idAmigo.style.opacity = "0.3";
        idPesquisador.style.opacity = "0.3";
        idCompanheiro.style.opacity = "0.3";
        idPioneiro.style.opacity = "0.3";
        idGuia.style.opacity = "0.3";
        idExcursionista.style.cursor = "pointer";

        idExcursionista.onclick = () => {
            location.href = './classes/excursionista.html'
        }
    } else if (idade == 15){
        idAmigo.style.opacity = "0.3";
        idPesquisador.style.opacity = "0.3";
        idCompanheiro.style.opacity = "0.3";
        idPioneiro.style.opacity = "0.3";
        idExcursionista.style.opacity = "0.3";
        idGuia.style.cursor = "pointer";
        
        idGuia.onclick = () => {
            location.href = './classes/guia.html'
        }
    } else if (idade >= 16){
    
    idAmigo.onclick = () => {
        location.href = './classes/amigo.html'
    }
    idCompanheiro.onclick = () => {
        location.href = './classes/companheiro.html'
    }
    idPesquisador.onclick = () => {
        location.href = './classes/pesquisador.html'
    }
    idPioneiro.onclick = () => {
        location.href = './classes/pioneiro.html'
    }
    idExcursionista.onclick = () => {
        location.href = './classes/excursionista.html'
    }
    idGuia.onclick = () => {
        location.href = './classes/guia.html'
    }
    idAmigo.style.cursor = "pointer";
    idCompanheiro.style.cursor = "pointer";
    idPesquisador.style.cursor = "pointer";
    idPioneiro.style.cursor = "pointer";
    idExcursionista.style.cursor = "pointer";
    idGuia.style.cursor = "pointer";
    }
}

console.log(cards())
</script>